"use strict";var Sign={lib:{},cb:{},DEBUG:!1,guid:function(){function n(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},getDomId:function(n){return n===document?0:n.id?n.id:(n.id=Sign.guid(),Sign.DEBUG&&console.log("#Sign general a guid for dom:",n.id),n.id)},getDom:function(n){return 0==n?document:document.getElementById(n)},set:function(n,i){void 0===i?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i)),Sign.DEBUG&&console.log("#Sign set store:"+n+"   data:"+i)},get:function(n){if(localStorage.getItem(n)){var i=localStorage.getItem(n);return Sign.DEBUG&&console.log("#Sign get store:"+n+"   data:"+i),JSON.parse(i)}},del:function(n){n&&Object.keys(localStorage).forEach(i=>-1!=i.indexOf(n)?localStorage.removeItem(i):"")},mark:function(n,i,e,g){var t=e||document,o=Sign.getDomId(t);if(Sign.lib[o]=Sign.lib[o]||{},Sign.lib[o][n])return!1;if(Sign.cb[o]=Sign.cb[o]||{},Sign.cb[o][n]=i,Sign.lib[o][n]={t:!!g},0===o){var r=Sign.get("signs")||{};r[n]=Sign.lib[o][n],Sign.set("signs",r),Sign.set("sign-"+n,Sign.cb[o][n].toString())}return t.addEventListener(n,Sign.cb[o][n],g),Sign.DEBUG&&console.log("#Sign Mark a sign name:"+n+"   on node:"+o+"   on bubbling trigger:"+!g),!0},trigger:function(name,params,dom){var signs=Sign.get("signs")||{};if(Sign.cb[0]=Sign.cb[0]||{},Sign.lib[0]=Sign.lib[0]||{},signs[name]&&!Sign.lib[0][name]){var scb=Sign.get("sign-"+name);Sign.cb[0][name]=eval("("+scb+")"),Sign.lib[0][name]=signs[name],document.addEventListener(name,Sign.cb[0][name],Sign.lib[0][name].t)}var e=new Event(name);for(const n in params)params.hasOwnProperty(n)&&(e[n]=params[n]);if(!0===dom){var rets=[];for(const n in Sign.lib)Sign.lib.hasOwnProperty(n)&&Sign.lib[n][name]&&rets.push({id:n,ret:Sign.getDom(n).dispatchEvent(e)});return Sign.DEBUG&&console.log("#Sign Triggers sign:"+name+"    params and returns:",params,rets),rets}var target=dom||document;e.id=target.id;var ret=target.dispatchEvent(e);return Sign.DEBUG&&console.log("#Sign Trigger a sign name:"+name+"   on node:"+e.id+"   params and function return:",params,ret),ret},remove:function(n,i){var e=i||document;if(!0===i||0===Sign.getDomId(e))if(n){if(Sign.get("signs")&&Sign.get("signs")[n]){var g=Sign.get("signs");g[n]=void 0,Sign.set("signs",g),Sign.set("sign-"+n)}}else Sign.set("signs"),Sign.del("sign-");if(!0===i){for(const i in Sign.lib)Sign.lib.hasOwnProperty(i)&&(Sign.lib[i][n]&&Sign.getDom(i).removeEventListener(n,Sign.lib[i][n].f,Sign.lib[i][n].t),Sign.lib[i][n]=void 0,Sign.cb[i][n]=void 0);return Sign.DEBUG&&console.log("#Sign remove all node signs with sign name:"+n),!0}var t=Sign.getDomId(e);if(Sign.lib[t]){if(n)return e.removeEventListener(n,Sign.lib[t][n].f,Sign.lib[t][n].t),Sign.lib[t][n]=void 0,Sign.cb[t][n]=void 0,Sign.DEBUG&&console.log("#Sign remove a sign:"+n+"    id:"+t),!0;for(const n in Sign.lib[t]){if(object.hasOwnProperty(n)){const i=Sign.lib[t][n];e.removeEventListener(n,i.f,i.t)}Sign.lib[t]={},Sign.cb[t]={}}return Sign.DEBUG&&console.log("#Sign remove all signs, node id:"+t),!0}return Sign.DEBUG&&console.log("#Sign remove fails not fond sign!"),!1}};