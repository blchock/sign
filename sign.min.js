"use strict";var Sign={lib:{0:{}},cb:{0:{}}};Sign.guid=function(){function i(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()},Sign.getDomId=function(i){return i===document?0:i.id?i.id:(i.id=Sign.guid(),i.id)},Sign.getDom=function(i){return 0==i?document:document.getElementById(i)},Sign.setData=function(i,n){void 0===n?localStorage.removeItem(i):localStorage.setItem(i,JSON.stringify(n))},Sign.getData=function(i){if(localStorage.getItem(i)){var n=localStorage.getItem(i);return JSON.parse(n)}},Sign.delData=function(i){i&&Object.keys(localStorage).forEach(function(n){return-1!=n.indexOf(i)?localStorage.removeItem(n):""})},Sign.mark=function(i,n,e,t){var g=e||document,a=Sign.getDomId(g);if(Sign.lib[a]=Sign.lib[a]||{},Sign.lib[a][i])return!1;if(Sign.cb[a]=Sign.cb[a]||{},Sign.cb[a][i]=n,Sign.lib[a][i]={t:!!t},0===a){var r=Sign.getData("signs")||{};r[i]=Sign.lib[a][i],Sign.setData("signs",r),Sign.setData("sign-"+i,Sign.cb[a][i].toString())}return g.addEventListener(i,Sign.cb[a][i],t),!0},Sign.trigger=function(name,params,dom){var signs=Sign.getData("signs")||{};if(signs[name]&&!Sign.lib[0][name]){var scb=Sign.getData("sign-"+name);Sign.cb[0][name]=eval("("+scb+")"),Sign.lib[0][name]=signs[name],document.addEventListener(name,Sign.cb[0][name],Sign.lib[0][name].t)}var e=new Event(name);for(var key in params)params.hasOwnProperty(key)&&(e[key]=params[key]);if(!0===dom){var rets=[];for(var id in Sign.lib)Sign.lib.hasOwnProperty(id)&&Sign.lib[id][name]&&rets.push({id:id,ret:Sign.getDom(id).dispatchEvent(e)});return rets}var target=dom||document;return e.id=target.id,target.dispatchEvent(e)},Sign.remove=function(i,n){var e=n||document;if(!0===n||0===Sign.getDomId(e))if(i){if(Sign.getData("signs")&&Sign.getData("signs")[i]){var t=Sign.getData("signs");t[i]=void 0,Sign.setData("signs",t),Sign.setData("sign-"+i)}}else Sign.setData("signs"),Sign.delData("sign-");if(!0===n){for(var g in Sign.lib)Sign.lib.hasOwnProperty(g)&&(Sign.lib[g][i]&&Sign.getDom(g).removeEventListener(i,Sign.lib[g][i].f,Sign.lib[g][i].t),Sign.lib[g][i]=void 0,Sign.cb[g][i]=void 0);return!0}var a=Sign.getDomId(e);if(Sign.lib[a]){if(i)return e.removeEventListener(i,Sign.lib[a][i].f,Sign.lib[a][i].t),Sign.lib[a][i]=void 0,Sign.cb[a][i]=void 0,!0;for(var r in Sign.lib[a]){if(object.hasOwnProperty(r)){var S=Sign.lib[a][r];e.removeEventListener(r,S.f,S.t)}Sign.lib[a]={},Sign.cb[a]={}}return!0}return!1};